---
title: Rehype Pretty Codeã®ä½¿ç”¨ä¾‹
createdDate: 2024-12-29T03:05:08.522Z
description: Rehype Pretty Codeã‚’ä½¿ã£ã¦ã¿ãŸä¾‹ã‚’æŒ™ã’ã¦ã„ãã¾ã™ã€‚
tags:
  - Vite
  - Shiki
  - Markdwon
iconUrl: https://raw.githubusercontent.com/microsoft/fluentui-emoji/main/assets/Bison/Flat/bison_flat.svg
---

## ã¯ã˜ã‚ã«

[Rehype Pretty Code](https://rehype-pretty.pages.dev)ã¯Shikiãƒ™ãƒ¼ã‚¹ã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆæ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹rehypeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚

<BlogCard url="https://github.com/rehype-pretty/rehype-pretty-code" />

<BlogCard url="https://shiki.style/" />

ã“ã®è¨˜äº‹ã§ã¯ã€å®Ÿéš›ã«Rehype Pretty Codã‚’ä½¿ç”¨ã—ãŸä¾‹ã‚’æŒ™ã’ã¦ã„ãã¾ã™ã€‚

## ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ

### ã‚¿ã‚¤ãƒˆãƒ«

`title=""`ã§ã‚¿ã‚¤ãƒˆãƒ«ãŒã¤ã‘ã‚‰ã‚Œã‚‹ã€‚

````md
```go title="hello"
func main() {
  fmt.Println("hello")
}
```
````

```go title="hello"
func main() {
  fmt.Println("hello")
}
```

### ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³

`caption=""`ã§ã‚¿ã‚¤ãƒˆãƒ«ãŒã¤ã‘ã‚‰ã‚Œã‚‹ã€‚

````md
```go caption="hello"
func main() {
  fmt.Println("hello")
}
```
````

```go caption="hello"
func main() {
  fmt.Println("hello")
}
```

### è¡Œç•ªå·ã®è¿½åŠ 

`showLineNumbers`ã‚’ã¤ã‘ã‚‹ã¨è¡Œç•ªå·ã‚’ã¤ã‘ã‚‰ã‚Œã‚‹ã€‚

````md
```go showLineNumbers
func main() {
  fmt.Println("hello")
}
```
````

```go showLineNumbers
func main() {
  fmt.Println("hello")
}
```

`showLineNumber{4}`ã®ã‚ˆã†ã«ã—ãŸã‚‰æœ€åˆã®æ•°å­—ã‚’å¤‰æ›´ã§ãã‚‹ã€‚

````md
```go showLineNumbers{5}
func main() {
  fmt.Println("hello")
}
```
````

```go showLineNumbers{5}
func main() {
  fmt.Println("hello")
}
```

### è¡Œãƒã‚¤ãƒ©ã‚¤ãƒˆ

`go {2}`ã®ã‚ˆã†ã«è¡Œç•ªå·ã§æŒ‡å®šã™ã‚‹ã€‚

````md
```go {2}
func main() {
  fmt.Println("hello")
}
```
````

```go {2}
func main() {
  fmt.Println("hello")
}
```

### æ–‡å­—ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ

`go /Println/ï½€ã®ã‚ˆã†ã«å˜èªã‚’æŒ‡å®šã™ã‚‹ã¨ã€ç‰¹å®šã®å˜èªã«ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’ã¤ã‘ã‚‰ã‚Œã‚‹ã€‚
`"Println"`ã®ã‚ˆã†ã«`"`ã§ã‚‚å¯èƒ½ã€‚è¤‡æ•°è¿½åŠ ã™ã‚‹å ´åˆã¯ã€`js /carrot/ /apple/`ã®ã‚ˆã†ã«ã™ã‚‹ã€‚

````md
```go /Println/
func main() {
  fmt.Println("hello")
}
```
````

```go /Println/
func main() {
  fmt.Println("hello")
}
```

### ãƒãƒ¼ã‚«ãƒ¼

ã‚°ãƒ«ãƒ¼ãƒ—ã‚’è¨­å®šã—ã¦ã€ãƒãƒ¼ã‚«ã‚’ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

````md
```js /age/#r /name/#r /setAge/#y /setName/#y /50/#p /"Taylor"/#p
const [age, setAge] = useState(50);
const [name, setName] = useState("Taylor");
```
````

```js /age/#r /name/#r /setAge/#y /setName/#y /50/#p /"Taylor"/#p
const [age, setAge] = useState(50);
const [name, setName] = useState("Taylor");
```

ä»¥ä¸‹ã®cssã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ãƒãƒ¼ã‚«ãƒ¼ã®è‰²ã‚„ã‚°ãƒ«ãƒ¼ãƒ—IDã‚’å¤‰ãˆãŸã‚Šè¿½åŠ ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

```css
[data-chars-id="r"] {
  @apply !text-pink-300 bg-rose-800/50 border-b-pink-600 font-bold;
}

[data-chars-id="y"] {
  @apply !text-yellow-300 bg-yellow-800/50 border-b-yellow-600 font-bold;
}

[data-chars-id="p"] {
  @apply !text-purple-200 bg-purple-800/50 border-b-purple-600 font-bold;
}
```

### diff

`diff` + è¨€èªã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’ä»˜ä¸ã™ã‚‹ã€‚
Shikiã®transformerã§å®Ÿç¾ã—ã¦ã„ã‚‹ã€‚

**\/\/ [!code --]**ã‚’ã¤ã‘ã‚‹ã¨ã€`-`ã€**\/\/ [!code ++]** ã‚’ã¤ã‘ã‚‹ã¨`+`ã«ãªã‚‹ã€‚

è¡¨ç¤ºã•ã‚Œãªã„ã®ã§markdownã®æ–¹ã§ã¯`/`ã®å¾Œã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’æŠœã„ã¦ã„ã‚‹ã€‚

````md
```go
func main() {
  fmt.Println("hello")  //[!code --]
  fmt.Println("see you") //[!code ++]
}
```
````

```go
func main() {
  fmt.Println("hello") // [!code --]
  fmt.Println("see you") // [!code ++]
}
```

### ANSIã‚³ãƒ¼ãƒ‰

ANSIã‚³ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚‚ã§ãã‚‹ã€‚ãŠãã‚‰ãä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ãªã•ãã†ã€‚

````md
```ansi
[0;36m  vite v5.0.0[0;32m dev server running at:[0m

  > Local: [0;36mhttp://localhost:[0;36;1m3000[0;36m/[0m
  > Network: [0;2muse `--host` to expose[0m

  [0;36mready in 125ms.[0m

[0;2m8:38:02 PM[0m [0;36;1m[vite][0m [0;32mhmr update [0;2m/src/App.jsx
```

Inline ANSI: `> Local: [0;36mhttp://localhost:[0;36;1m3000[0;36m/[0m{:ansi}`
````

```ansi
[0;36m  vite v5.0.0[0;32m dev server running at:[0m

  > Local: [0;36mhttp://localhost:[0;36;1m3000[0;36m/[0m
  > Network: [0;2muse `--host` to expose[0m

  [0;36mready in 125ms.[0m

[0;2m8:38:02 PM[0m [0;36;1m[vite][0m [0;32mhmr update [0;2m/src/App.jsx
```

Inline ANSI: `> Local: [0;36mhttp://localhost:[0;36;1m3000[0;36m/[0m{:ansi}`

## ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ

### ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰å†…ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ

```md
`[1, 2, 3].join('-'){:js}`
```

`[1, 2, 3].join('-'){:js}`

### Context Aware Inline Code

ã“ã‚Œã¯ä½¿ãˆã‚‹ãŒã€è‡ªåˆ†ã®ç’°å¢ƒã§ã¯shikiã®CSSå¤‰æ•°ã¨è¡çªã—ã¦ã€æ–‡å­—ã®è‰²ãŒå¤‰åŒ–ã—ãªã„ã€‚

```js
function getStringLength(str) {
  return str.length;
}
```

```md
`getStringLength{:.entity.name.function}`
`function{:.keyword}`
`str{:.variable.parameter}`
`str{:.variable.other.object}`
```

`getStringLength{:.entity.name.function}`
`function{:.keyword}`
`str{:.variable.parameter}`
`str{:.variable.other.object}`

## ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

ä»¥ä¸‹ã®ä¾‹ã¯æ—¢å­˜ã®ã‚¢ã‚¤ãƒ†ãƒ ã§ã¯ãªãã€ç‹¬è‡ªã«ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€CSSã‚’é©å¿œã—ã¦å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚

### BlogCard

ãƒ–ãƒ­ã‚°ã‚«ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```tsx
<BlogCard url="https://tomokiota.com/" />
```

<BlogCard url="https://tomokiota.com/" />

### Accordion

ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã§ã™ã€‚æŠ˜ã‚ŠãŸãŸã¿è¡¨ç¤ºã‚’å®Ÿç¾ã—ã¾ã™ã€‚ä¸­èº«ã¯`details`ã‚¿ã‚°ã¨`summary`ã‚¿ã‚°ã§å®Ÿè£…ã—ã¦ã¾ã™ã€‚

```tsx
<Accordion title="ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã®ä¾‹ã ã‚ˆï¼">
  ã“ã‚“ã«ã¡ã¯ï¼
</Accordion>
```

<Accordion title="ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã®ä¾‹ã ã‚ˆï¼">
  ã“ã‚“ã«ã¡ã¯ï¼
</Accordion>
